<main class="CarrersBody">
  <section class="careers-hero">
    <div class="container">
      <div class="careers-hero-content">
        <h1>Nuestras Carreras</h1>
        <p>Descubre la amplia variedad de programas acad√©micos dise√±ados para tu futuro profesional</p>
      </div>
    </div>
  </section>
  <div class="barradivisora"></div>
  <section class="search-section">
    <div class="container">
      <div class="search-container">
        <div class="search-input-group">
          <input 
            type="text" 
            [(ngModel)]="searchTerm" 
            (input)="filterCareers()"
            placeholder="Buscar carreras por nombre, descripci√≥n, d√≠as o profesores..."
            class="search-input"
          >
          <button 
            (click)="clearSearch()" 
            class="search-clear"
            *ngIf="searchTerm"
            aria-label="Limpiar b√∫squeda"
          >
            ‚úï
          </button>
        </div>
        <div class="search-info">
          <span *ngIf="filteredCareers.length !== careers.length">
            Mostrando {{ filteredCareers.length }} de {{ careers.length }} carreras
          </span>
          <span *ngIf="filteredCareers.length === careers.length">
            {{ careers.length }} carreras disponibles
          </span>
        </div>
      </div>
    </div>
  </section>
  <div class="barradivisora"></div>
  <section class="careers-list">
    <div class="container">
      <div *ngIf="isLoading" class="loading-state">
        <div class="loading-spinner"></div>
        <p>Cargando carreras...</p>
      </div>

      <div *ngIf="error && !isLoading" class="error-state">
        <div class="error-icon">‚ö†Ô∏è</div>
        <p>{{ error }}</p>
        <button (click)="loadCareers()" class="btn">Reintentar</button>
      </div>

      <div *ngIf="!isLoading && !error" class="careers-grid" role="list">
        <button 
          *ngFor="let career of filteredCareers" 
          class="career-card"
          (click)="selectCareer(career)"

          type="button"
          role="listitem"
        >
          <div class="career-header">
            <h3 class="career-title">{{ career.name }}</h3>
            
            <div class="career-days">
            </div>
          </div>
          
          <p class="career-description">{{ career.description }}</p>
          
          <div class="career-teachers" *ngIf="getTeachersForCareer(career).length > 0">
            <h4>Profesores:</h4>
            <div class="teachers-list">
              <div *ngFor="let teacher of getTeachersForCareer(career)" class="teacher-item">
                <div class="teacher-info">
                  <strong>{{ teacher.fullName }}</strong>
                  <span class="teacher-position">{{ teacher.position }}</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="career-footer">
            <span class="career-schedule">
              <strong>D√≠as de cursada:</strong> {{ career.days.join(', ') }}
            </span>
            <button 
              class="career-share-btn" 
              (click)="openShareModal(career, $event)"
              aria-label="Compartir carrera"
              title="Compartir carrera"
            >
              <i class="fas fa-share-alt"></i>
            </button>
          </div>
        </button>
        
      </div>

      <div *ngIf="!isLoading && !error && filteredCareers.length === 0" class="no-results">
        <div class="no-results-icon">üîç</div>
        <h3>No se encontraron carreras</h3>
        <p>No hay carreras que coincidan con tu b√∫squeda "{{ searchTerm }}"</p>
        <button (click)="clearSearch()" class="btn">Ver todas las carreras</button>
      </div>

      <!-- Detalle -->
      
    </div>
  </section>
  <div class="barradivisora"></div>
  <section class="contact-section">
    <div class="container">
      <app-contact-info></app-contact-info>
    </div>
  </section>
</main>

<!-- Modal de Compartir -->
<div class="share-overlay" *ngIf="showShareModal" (click)="closeShareModal()">
  <div class="share-modal" (click)="$event.stopPropagation()">
    <h3><i class="fas fa-share-alt"></i> Compartir carrera</h3>
    <p *ngIf="careerToShare">Comparte la carrera "{{ careerToShare.name }}" con otros:</p>

    <div class="share-buttons">
      <button class="share-btn whatsapp" (click)="shareWhatsApp()">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </button>
      <button class="share-btn email" (click)="shareEmail()">
        <i class="fas fa-envelope"></i> Email
      </button>
      <button class="share-btn link" (click)="copyLink()">
        <i class="fas fa-link"></i> Copiar enlace
      </button>
    </div>

    <button class="close-btn" (click)="closeShareModal()">
      <i class="fas fa-times"></i> Cerrar
    </button>
  </div>
</div>
